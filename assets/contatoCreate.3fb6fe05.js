var c=Object.defineProperty;var h=(s,t,e)=>t in s?c(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var o=(s,t,e)=>(h(s,typeof t!="symbol"?t+"":t,e),e);import"./modulepreload-polyfill.c7c6310f.js";import{E as d}from"./entidadeBase.model.63a43782.js";import{C as g}from"./contato.repository-local-storage.35e2bcd4.js";class l extends d{constructor(e,i,r,n,a,m){super();o(this,"nome");o(this,"email");o(this,"telefone");o(this,"empresa");o(this,"cargo");m&&(this.id=m),this.nome=e,this.email=i,this.telefone=r,n&&(this.empresa=n),a&&(this.cargo=a)}}class f{constructor(t,e){o(this,"txtNome");o(this,"txtEmail");o(this,"txtTelefone");o(this,"txtEmpresa");o(this,"txtCargo");o(this,"btnSalvar");o(this,"idSelecionado");if(this.repositorioContatos=t,this.configurarElementos(),e){this.idSelecionado=e;const i=this.repositorioContatos.selecionarPorId(this.idSelecionado);i&&this.preencherFormulario(i)}}gravarRegistros(){const t=this.montarObjetoContato();this.idSelecionado?this.repositorioContatos.editar(this.idSelecionado,t):this.repositorioContatos.inserir(t),this.redirecionarPaginaListagem()}montarObjetoContato(){const t=this.txtNome.value,e=this.txtEmail.value,i=this.txtTelefone.value,r=this.txtEmpresa.value,n=this.txtCargo.value;let a;return this.idSelecionado?r&&n?a=new l(t,e,i,r,n,this.idSelecionado):a=new l(t,e,i,void 0,void 0,this.idSelecionado):r&&n?a=new l(t,e,i,r,n):a=new l(t,e,i),a}preencherFormulario(t){this.txtNome.value=t.nome,this.txtEmail.value=t.email,this.txtTelefone.value=t.telefone,t.empresa&&(this.txtEmpresa.value=t.empresa),t.cargo&&(this.txtCargo.value=t.cargo)}redirecionarPaginaListagem(){window.location.href="contato.list.html"}configurarElementos(){this.txtNome=document.getElementById("txtNome"),this.txtEmail=document.getElementById("txtEmail"),this.txtTelefone=document.getElementById("txtTelefone"),this.txtEmpresa=document.getElementById("txtEmpresa"),this.txtCargo=document.getElementById("txtCargo"),this.btnSalvar=document.getElementById("btnSalvar"),this.btnSalvar.addEventListener("click",t=>{this.gravarRegistros()})}}const x=new URLSearchParams(window.location.search),u=x.get("id");new f(new g,u);
